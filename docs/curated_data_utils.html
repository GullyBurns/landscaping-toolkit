---

title: Curated Dataframe Utilities


keywords: fastai
sidebar: home_sidebar

summary: "Library to provide functions to compute statistics and summary information on a dataframe that has been curated by multiple people. This library provides tools for computing Krippendorf Alpha stats and computing merged dataframes across multiple curators. "
description: "Library to provide functions to compute statistics and summary information on a dataframe that has been curated by multiple people. This library provides tools for computing Krippendorf Alpha stats and computing merged dataframes across multiple curators. "
nb_path: "04_curated_data_utils.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 04_curated_data_utils.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="CuratedDataUtils" class="doc_header"><code>class</code> <code>CuratedDataUtils</code><a href="https://github.com/GullyBurns/czLandscapingTk/tree/master/czLandscapingTk/curatedDataUtils.py#L16" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>CuratedDataUtils</code>(<strong><code>df</code></strong>, <strong><code>doc_id_column</code></strong>, <strong><code>category_column</code></strong>, <strong><code>curator_column</code></strong>, <strong><code>distance_function</code></strong>=<em><code>masi_distance</code></em>)</p>
</blockquote>
<p>This class permits generation of curation statistics and merged, consensus dataframes.</p>
<p>Attributes:</p>
<ul>
<li>df: The dataframe being processed</li>
<li>doc_id_column: column in df that denotes document IDs</li>
<li>category_column: column in df that denotes curated category</li>
<li>curator_column: column in df that denotes curator</li>
<li>docs: the document set being curated</li>
<li>curators: the curators performing the curation work</li>
<li>categories: the set of categories being used to annotate the documents</li>
<li>doc_task: a low-level <code>nltk</code> task object</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="CuratedDataUtils.__init__" class="doc_header"><code>CuratedDataUtils.__init__</code><a href="__main__.py#L26" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>CuratedDataUtils.__init__</code>(<strong><code>df</code></strong>, <strong><code>doc_id_column</code></strong>, <strong><code>category_column</code></strong>, <strong><code>curator_column</code></strong>, <strong><code>distance_function</code></strong>=<em><code>masi_distance</code></em>)</p>
</blockquote>
<p>Initialize self.  See help(type(self)) for accurate signature.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="CuratedDataUtils.get_cross_curator_comparison" class="doc_header"><code>CuratedDataUtils.get_cross_curator_comparison</code><a href="__main__.py#L123" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>CuratedDataUtils.get_cross_curator_comparison</code>()</p>
</blockquote>
<p>Generates table with 1 row per doc + extra columns for each curator</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="CuratedDataUtils.get_consensus_per_doc" class="doc_header"><code>CuratedDataUtils.get_consensus_per_doc</code><a href="__main__.py#L100" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>CuratedDataUtils.get_consensus_per_doc</code>()</p>
</blockquote>
<p>Generates DataFrame with new columns for 'AVG_AGREEMENT' and 'CONSENSUS' for each document</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ordinal_distance" class="doc_header"><code>ordinal_distance</code><a href="https://github.com/GullyBurns/czLandscapingTk/tree/master/czLandscapingTk/curatedDataUtils.py#L145" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ordinal_distance</code>(<strong><code>label1</code></strong>, <strong><code>label2</code></strong>)</p>
</blockquote>
<p>Krippendorff's ordinal distance metric
Modified from Wikipedia page: <a href="https://en.wikipedia.org/wiki/Krippendorff%27s_alpha#Difference_functions">https://en.wikipedia.org/wiki/Krippendorff%27s_alpha#Difference_functions</a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="no_maybe_yes_distance" class="doc_header"><code>no_maybe_yes_distance</code><a href="https://github.com/GullyBurns/czLandscapingTk/tree/master/czLandscapingTk/curatedDataUtils.py#L155" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>no_maybe_yes_distance</code>(<strong><code>label1</code></strong>, <strong><code>label2</code></strong>)</p>
</blockquote>
<p>Simple distance for no / maybe / yes scale used to denote curation task.
Lookup table
d(0,0) = 0.0
d(1,1) = 0.0
d(2,2) = 0.0
d(0,1) = 3.0
d(1,2) = 1.0
d(0,2) = 5.0</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

